[gd_scene load_steps=15 format=4 uid="uid://dejbiswo8rnoi"]

[ext_resource type="Script" uid="uid://c5cobquhtss63" path="res://Scenes/Main/GameManager.cs" id="1_jey54"]
[ext_resource type="PackedScene" uid="uid://c4hvjp22ok276" path="res://Entities/Player/Character.tscn" id="1_m7oyx"]
[ext_resource type="TileSet" uid="uid://u8qkhniw6s8u" path="res://Assets/Sprites/environment/TileMap.tres" id="1_yppru"]
[ext_resource type="Script" uid="uid://2v0xavcjfpwl" path="res://Code/BuildingMap.cs" id="3_xa8a6"]
[ext_resource type="PackedScene" uid="uid://ccxhqwfuyr60" path="res://Scenes/UI/HUD.tscn" id="4_uaxa7"]
[ext_resource type="Script" uid="uid://cfk61wdwaq7r6" path="res://Code/Camera.cs" id="4_vqmdy"]
[ext_resource type="PackedScene" uid="uid://6ycfxb3u38k1" path="res://Entities/CraftingStations/CraftingBench.tscn" id="4_yvvah"]
[ext_resource type="Texture2D" uid="uid://3ps2vy4q4qah" path="res://Assets/Sprites/characters/dwarf.png" id="5_vqmdy"]
[ext_resource type="PackedScene" uid="uid://cegbc5yym6dn2" path="res://Entities/GenericItem.tscn" id="5_xa8a6"]
[ext_resource type="Resource" uid="uid://db5qq1a3ir2ty" path="res://Resources/Items/logItem.tres" id="6_11nrr"]
[ext_resource type="Resource" uid="uid://dpuw55q3eqwkm" path="res://Resources/Items/ingotItem.tres" id="7_lv6gr"]
[ext_resource type="PackedScene" uid="uid://hxf0gtf3x5pb" path="res://Entities/NPC/Npc.tscn" id="9_xa8a6"]
[ext_resource type="PackedScene" uid="uid://bwho24gjrxuig" path="res://Entities/CraftingStations/CombiningStation.tscn" id="11_j3d0r"]

[sub_resource type="Curve2D" id="Curve2D_jey54"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 128, 1208, 0, 0, 0, 0, 1158, 698, 0, 0, 0, 0, 0, 126, 0, 0, 0, 0, -1027, 640, 0, 0, 0, 0, 128, 1208)
}
point_count = 5

[node name="Node2D" type="Node2D"]
script = ExtResource("1_jey54")
NpcScene = ExtResource("9_xa8a6")

[node name="Isometric" type="Node2D" parent="."]
scale = Vector2(4, 4)

[node name="Character" parent="Isometric" instance=ExtResource("1_m7oyx")]
position = Vector2(0, 145)

[node name="BuildingMap" type="TileMapLayer" parent="Isometric"]
y_sort_enabled = true
tile_map_data = PackedByteArray("AAABAAIAAAAEAAAAAAABAAMAAAAEAAAAAAABAAQAAAAEAAAAAAABAAUAAAAEAAAAAAABAAYAAAAEAAAAAAABAAcAAAAEAAAAAAABAAgAAAAEAAAAAAABAAkAAAAEAAAAAAABAAoAAAAEAAAAAAABAAsAAAAEAAAAAAABAAwAAAAEAAAAAAABAA0AAAAEAAAAAAABAA4AAAAEAAAAAAABAA8AAAAEAAAAAAABABAAAAAEAAAAAAABABEAAAAEAAAAAAABABIAAAAEAAAAAAACAAIAAAAEAAAAAAACAAMAAAAEAAAAAAACAAQAAAAEAAAAAAACAAUAAAAEAAAAAAACAAYAAAAEAAAAAAACAAcAAAAEAAAAAAACAAgAAAAEAAAAAAACAAkAAAAEAAAAAAACAAoAAAAEAAAAAAACAAsAAAAEAAAAAAACAAwAAAAEAAAAAAACAA0AAAAEAAAAAAACAA4AAAAEAAAAAAACAA8AAAAEAAAAAAACABAAAAAEAAAAAAACABEAAAAEAAAAAAACABIAAAAEAAAAAAADAAIAAAAEAAAAAAADAAMAAAAEAAAAAAADAAQAAAAEAAAAAAADAAUAAAAEAAAAAAADAAYAAAAEAAAAAAADAAcAAAAEAAAAAAADAAgAAAAEAAAAAAADAAkAAAAEAAAAAAADAAoAAAAEAAAAAAADAAsAAAAEAAAAAAADAAwAAAAEAAAAAAADAA0AAAAEAAAAAAADAA4AAAAEAAAAAAADAA8AAAAEAAAAAAADABAAAAAEAAAAAAADABEAAAAEAAAAAAADABIAAAAEAAAAAAAEAAIAAAAEAAAAAAAEAAMAAAAEAAAAAAAEAAQAAAAEAAAAAAAEAAUAAAAEAAAAAAAEAAYAAAAEAAAAAAAEAAcAAAAEAAAAAAAEAAgAAAAEAAAAAAAEAAkAAAAEAAAAAAAEAAoAAAAEAAAAAAAEAAsAAAAEAAAAAAAEAAwAAAAEAAAAAAAEAA0AAAAEAAAAAAAEAA4AAAAEAAAAAAAEAA8AAAAEAAAAAAAEABAAAAAEAAAAAAAEABEAAAAEAAAAAAAEABIAAAAEAAAAAAAFAAIAAAAEAAAAAAAFAAMAAAAEAAAAAAAFAAQAAAAEAAAAAAAFAAUAAAAEAAAAAAAFAAYAAAAEAAAAAAAFAAcAAAAEAAAAAAAFAAgAAAAEAAAAAAAFAAkAAAAEAAAAAAAFAAoAAAAEAAAAAAAFAAsAAAAEAAAAAAAFAAwAAAAEAAAAAAAFAA0AAAAEAAAAAAAFAA4AAAAEAAAAAAAFAA8AAAAEAAAAAAAFABAAAAAEAAAAAAAFABEAAAAEAAAAAAAFABIAAAAEAAAAAAAGAAIAAAAEAAAAAAAGAAMAAAAEAAAAAAAGAAQAAAAEAAAAAAAGAAUAAAAEAAAAAAAGAAYAAAAEAAAAAAAGAAcAAAAEAAAAAAAGAAgAAAAEAAAAAAAGAAkAAAAEAAAAAAAGAAoAAAAEAAAAAAAGAAsAAAAEAAAAAAAGAAwAAAAEAAAAAAAGAA0AAAAEAAAAAAAGAA4AAAAEAAAAAAAGAA8AAAAEAAAAAAAGABAAAAAEAAAAAAAGABEAAAAEAAAAAAAGABIAAAAEAAAAAAAHAAIAAAAEAAAAAAAHAAMAAAAEAAAAAAAHAAQAAAAEAAAAAAAHAAUAAAAEAAAAAAAHAAYAAAAEAAAAAAAHAAcAAAAEAAAAAAAHAAgAAAAEAAAAAAAHAAkAAAAEAAAAAAAHAAoAAAAEAAAAAAAHAAsAAAAEAAAAAAAHAAwAAAAEAAAAAAAHAA0AAAAEAAAAAAAHAA4AAAAEAAAAAAAHAA8AAAAEAAAAAAAHABAAAAAEAAAAAAAHABEAAAAEAAAAAAAHABIAAAAEAAAAAAAIAAIAAAAEAAAAAAAIAAMAAAAEAAAAAAAIAAQAAAAEAAAAAAAIAAUAAAAEAAAAAAAIAAYAAAAEAAAAAAAIAAcAAAAEAAAAAAAIAAgAAAAEAAAAAAAIAAkAAAAEAAAAAAAIAAoAAAAEAAAAAAAIAAsAAAAEAAAAAAAIAAwAAAAEAAAAAAAIAA0AAAAEAAAAAAAIAA4AAAAEAAAAAAAIAA8AAAAEAAAAAAAIABAAAAAEAAAAAAAIABEAAAAEAAAAAAAIABIAAAAEAAAAAAAJAAIAAAAEAAAAAAAJAAMAAAAEAAAAAAAJAAQAAAAEAAAAAAAJAAUAAAAEAAAAAAAJAAYAAAAEAAAAAAAJAAcAAAAEAAAAAAAJAAgAAAAEAAAAAAAJAAkAAAAEAAAAAAAJAAoAAAAEAAAAAAAJAAsAAAAEAAAAAAAJAAwAAAAEAAAAAAAJAA0AAAAEAAAAAAAJAA4AAAAEAAAAAAAJAA8AAAAEAAAAAAAJABAAAAAEAAAAAAAJABEAAAAEAAAAAAAJABIAAAAEAAAAAAAKAAIAAAAEAAAAAAAKAAMAAAAEAAAAAAAKAAQAAAAEAAAAAAAKAAUAAAAEAAAAAAAKAAYAAAAEAAAAAAAKAAcAAAAEAAAAAAAKAAgAAAAEAAAAAAAKAAkAAAAEAAAAAAAKAAoAAAAEAAAAAAAKAAsAAAAEAAAAAAAKAAwAAAAEAAAAAAAKAA0AAAAEAAAAAAAKAA4AAAAEAAAAAAAKAA8AAAAEAAAAAAAKABAAAAAEAAAAAAAKABEAAAAEAAAAAAAKABIAAAAEAAAAAAALAAIAAAAEAAAAAAALAAMAAAAEAAAAAAALAAQAAAAEAAAAAAALAAUAAAAEAAAAAAALAAYAAAAEAAAAAAALAAcAAAAEAAAAAAALAAgAAAAEAAAAAAALAAkAAAAEAAAAAAALAAoAAAAEAAAAAAALAAsAAAAEAAAAAAALAAwAAAAEAAAAAAALAA0AAAAEAAAAAAALAA4AAAAEAAAAAAALAA8AAAAEAAAAAAALABAAAAAEAAAAAAALABEAAAAEAAAAAAALABIAAAAEAAAAAAAMAAIAAAAEAAAAAAAMAAMAAAAEAAAAAAAMAAQAAAAEAAAAAAAMAAUAAAAEAAAAAAAMAAYAAAAEAAAAAAAMAAcAAAAEAAAAAAAMAAgAAAAEAAAAAAAMAAkAAAAEAAAAAAAMAAoAAAAEAAAAAAAMAAsAAAAEAAAAAAAMAAwAAAAEAAAAAAAMAA0AAAAEAAAAAAAMAA4AAAAEAAAAAAAMAA8AAAAEAAAAAAAMABAAAAAEAAAAAAAMABEAAAAEAAAAAAAMABIAAAAEAAAAAAANAAIAAAAEAAAAAAANAAMAAAAEAAAAAAANAAQAAAAEAAAAAAANAAUAAAAEAAAAAAANAAYAAAAEAAAAAAANAAcAAAAEAAAAAAANAAgAAAAEAAAAAAANAAkAAAAEAAAAAAANAAoAAAAEAAAAAAANAAsAAAAEAAAAAAANAAwAAAAEAAAAAAANAA0AAAAEAAAAAAANAA4AAAAEAAAAAAANAA8AAAAEAAAAAAANABAAAAAEAAAAAAANABEAAAAEAAAAAAANABIAAAAEAAAAAAAOAAIAAAAEAAAAAAAOAAMAAAAEAAAAAAAOAAQAAAAEAAAAAAAOAAUAAAAEAAAAAAAOAAYAAAAEAAAAAAAOAAcAAAAEAAAAAAAOAAgAAAAEAAAAAAAOAAkAAAAEAAAAAAAOAAoAAAAEAAAAAAAOAAsAAAAEAAAAAAAOAAwAAAAEAAAAAAAOAA0AAAAEAAAAAAAOAA4AAAAEAAAAAAAOAA8AAAAEAAAAAAAOABAAAAAEAAAAAAAOABEAAAAEAAAAAAAOABIAAAAEAAAAAAAPAAIAAAAEAAAAAAAPAAMAAAAEAAAAAAAPAAQAAAAEAAAAAAAPAAUAAAAEAAAAAAAPAAYAAAAEAAAAAAAPAAcAAAAEAAAAAAAPAAgAAAAEAAAAAAAPAAkAAAAEAAAAAAAPAAoAAAAEAAAAAAAPAAsAAAAEAAAAAAAPAAwAAAAEAAAAAAAPAA0AAAAEAAAAAAAPAA4AAAAEAAAAAAAPAA8AAAAEAAAAAAAPABAAAAAEAAAAAAAPABEAAAAEAAAAAAAPABIAAAAEAAAAAAAQAAIAAAAEAAAAAAAQAAMAAAAEAAAAAAAQAAQAAAAEAAAAAAAQAAUAAAAEAAAAAAAQAAYAAAAEAAAAAAAQAAcAAAAEAAAAAAAQAAgAAAAEAAAAAAAQAAkAAAAEAAAAAAAQAAoAAAAEAAAAAAAQAAsAAAAEAAAAAAAQAAwAAAAEAAAAAAAQAA0AAAAEAAAAAAAQAA4AAAAEAAAAAAAQAA8AAAAEAAAAAAAQABAAAAAEAAAAAAAQABEAAAAEAAAAAAAQABIAAAAEAAAAAAARAAIAAAAEAAAAAAARAAMAAAAEAAAAAAARAAQAAAAEAAAAAAARAAUAAAAEAAAAAAARAAYAAAAEAAAAAAARAAcAAAAEAAAAAAARAAgAAAAEAAAAAAARAAkAAAAEAAAAAAARAAoAAAAEAAAAAAARAAsAAAAEAAAAAAARAAwAAAAEAAAAAAARAA0AAAAEAAAAAAARAA4AAAAEAAAAAAARAA8AAAAEAAAAAAARABAAAAAEAAAAAAARABEAAAAEAAAAAAARABIAAAAEAAAAAAASAAIAAAAEAAAAAAASAAMAAAAEAAAAAAASAAQAAAAEAAAAAAASAAUAAAAEAAAAAAASAAYAAAAEAAAAAAASAAcAAAAEAAAAAAASAAgAAAAEAAAAAAASAAkAAAAEAAAAAAASAAoAAAAEAAAAAAASAAsAAAAEAAAAAAASAAwAAAAEAAAAAAASAA0AAAAEAAAAAAASAA4AAAAEAAAAAAASAA8AAAAEAAAAAAASABAAAAAEAAAAAAASABEAAAAEAAAAAAASABIAAAAEAAAAAAATAAIAAAAEAAAAAAATAAMAAAAEAAAAAAATAAQAAAAEAAAAAAATAAUAAAAEAAAAAAATAAYAAAAEAAAAAAATAAcAAAAEAAAAAAATAAgAAAAEAAAAAAATAAkAAAAEAAAAAAATAAoAAAAEAAAAAAATAAsAAAAEAAAAAAATAAwAAAAEAAAAAAATAA0AAAAEAAAAAAATAA4AAAAEAAAAAAATAA8AAAAEAAAAAAATABAAAAAEAAAAAAATABEAAAAEAAAAAAATABIAAAAEAAAAAAAUAAEAAQABAAEAAAAUAAIAAQABAAEAAAAUAAMAAQABAAEAAAAUAAQAAQABAAEAAAAUAAUAAQABAAEAAAAUAAYAAQABAAEAAAAUAAcAAQABAAEAAAAUAAgAAQABAAEAAAAUAAkAAQABAAEAAAAUAAoAAQABAAEAAAAUAAsAAQABAAEAAAAUAAwAAQABAAEAAAAUAA0AAQABAAEAAAAUAA4AAQABAAEAAAAUAA8AAQABAAEAAAAUABAAAQABAAEAAAAUABEAAQABAAEAAAAUABIAAQABAAEAAAAUABMAAQABAAEAAAATABMAAQABAAEAAAASABMAAQABAAEAAAARABMAAQABAAEAAAAQABMAAQABAAEAAAAPABMAAQABAAEAAAAOABMAAQABAAEAAAANABMAAQABAAEAAAAMABMAAQABAAEAAAALABMAAQABAAEAAAAKABMAAQABAAEAAAAJABMAAQABAAEAAAAIABMAAQABAAEAAAAHABMAAQABAAEAAAAGABMAAQABAAEAAAAFABMAAQABAAEAAAAEABMAAQABAAEAAAADABMAAQABAAEAAAACABMAAQABAAEAAAABABMAAQABAAEAAAAAABMAAQABAAEAAAAAABIAAQABAAEAAAAAABEAAQABAAEAAAAAABAAAQABAAEAAAAAAA8AAQABAAEAAAAAAA4AAQABAAEAAAAAAA0AAQABAAEAAAAAAAwAAQABAAEAAAAAAAsAAQABAAEAAAAAAAoAAQABAAEAAAAAAAkAAQABAAEAAAAAAAgAAQABAAEAAAAAAAcAAQABAAEAAAAAAAYAAQABAAEAAAAAAAUAAQABAAEAAAAAAAQAAQABAAEAAAAAAAMAAQABAAEAAAAAAAIAAQABAAEAAAAAAAEAAQABAAEAAAABAAEAAQABAAEAAAACAAEAAQABAAEAAAADAAEAAQABAAEAAAAEAAEAAQABAAEAAAAFAAEAAQABAAEAAAAGAAEAAQABAAEAAAAHAAEAAQABAAEAAAAIAAEAAQABAAEAAAAJAAEAAQABAAEAAAAKAAEAAQABAAEAAAALAAEAAQABAAEAAAAMAAEAAQABAAEAAAANAAEAAQABAAEAAAAOAAEAAQABAAEAAAAPAAEAAQABAAEAAAAQAAEAAQABAAEAAAARAAEAAQABAAEAAAASAAEAAQABAAEAAAATAAEAAQABAAEAAAA=")
tile_set = ExtResource("1_yppru")
x_draw_order_reversed = true
collision_visibility_mode = 1
script = ExtResource("3_xa8a6")

[node name="Collison" type="TileMapLayer" parent="Isometric/BuildingMap" groups=["Obstacles"]]
y_sort_enabled = true
position = Vector2(-0.25, 0)
tile_map_data = PackedByteArray("AAALAAgAAQABAAEAAAAKAAcAAQABAAEAAAAKAAgAAQABAAEAAAALAAcAAQABAAEAAAANAAoAAAAJAAUAAAANAAgAAAAJAAUAAAALAAUAAAAJAAUAAAAHAAYAAAAJAAUAAAAGAAoAAAAJAAUAAAALAAwAAAAJAAUAAAAPAA0AAAAJAAUAAAANAAsAAAAJAAUAAAANAAwAAAAJAAUAAAANAAkAAAAJAAUAAAANAA0AAAAJAAUAAAANAA4AAAAJAAUAAAANAA8AAAAJAAUAAAANAAcAAAAJAAUAAAANAAYAAAAJAAUAAAANAAUAAAAJAAUAAAA=")
tile_set = ExtResource("1_yppru")
x_draw_order_reversed = true

[node name="TestTarget" type="Sprite2D" parent="Isometric"]
position = Vector2(456.75, 160.5)
texture = ExtResource("5_vqmdy")

[node name="CraftingBench" parent="Isometric" instance=ExtResource("4_yvvah")]
position = Vector2(65.75, 143.75)

[node name="GenericItem" parent="Isometric" instance=ExtResource("5_xa8a6")]
position = Vector2(-141, 123.5)
ItemResource = ExtResource("6_11nrr")
ColliderRadius = 10.0

[node name="GenericItem2" parent="Isometric" instance=ExtResource("5_xa8a6")]
position = Vector2(-168.75, 141.5)
ItemResource = ExtResource("6_11nrr")
ColliderRadius = 10.0

[node name="GenericItem3" parent="Isometric" instance=ExtResource("5_xa8a6")]
position = Vector2(-139.25, 157.5)
ItemResource = ExtResource("7_lv6gr")
ColliderRadius = 10.0

[node name="GenericItem4" parent="Isometric" instance=ExtResource("5_xa8a6")]
position = Vector2(-121.25, 140.25)
ItemResource = ExtResource("7_lv6gr")
ColliderRadius = 10.0

[node name="CombiningStation" parent="Isometric" instance=ExtResource("11_j3d0r")]
position = Vector2(-91.5, 104)

[node name="Camera2D" type="Camera2D" parent="." node_paths=PackedStringArray("FollowingNode")]
script = ExtResource("4_vqmdy")
FollowingNode = NodePath("../Isometric/Character")

[node name="Hud" parent="Camera2D" instance=ExtResource("4_uaxa7")]
metadata/_edit_use_anchors_ = true

[node name="Npc" parent="." node_paths=PackedStringArray("Target", "LeaveAreaNode") instance=ExtResource("9_xa8a6")]
position = Vector2(376, 1005)
scale = Vector2(4, 4)
Target = NodePath("../Isometric/CraftingBench")
LeaveAreaNode = NodePath("../LeaveArea")

[node name="LeaveArea" type="Node2D" parent="."]
position = Vector2(576, 1024)

[node name="NpcPath" type="Path2D" parent="."]
curve = SubResource("Curve2D_jey54")

[node name="NpcSpawnLocations" type="PathFollow2D" parent="NpcPath"]
position = Vector2(128, 1208)
rotation = -0.459757

[node name="NpcTimer" type="Timer" parent="."]
wait_time = 10.0
autostart = true

[connection signal="timeout" from="NpcTimer" to="." method="OnNpcTimerTimeout"]
